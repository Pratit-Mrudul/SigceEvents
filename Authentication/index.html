<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=1024px" />
  <title>SIGCE Student Authentication</title>
  <script src="/Registration/firebase.js" type="text/javascript" charset="utf-8"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-analytics.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.6.8/firebase-firestore.js"></script>
  <script type="text/javascript" charset="utf-8">
    const hamburger_menu = document.querySelector(".hamburger-menu");
    const container = document.querySelector(".container");

    hamburger_menu.addEventListener("click", () => {
      container.classList.toggle("active");
    });

    console.log('hello');


    const auth = firebase.auth();

    const SignUp = document.getElementById('SignUp');
    function registerAcc() {
      let email = document.getElementById('participantEmail').value;
      let pass = document.getElementById('password').value;
      validation(email);

      function validation(email) {
        let domain_name = (email.substring(email.length - 13));
        if (domain_name == '@sigce.edu.in') {
          value = 'true';
        } else {
          value = 'false';
        }
        return value;
      }
      if (value == 'true') {
        const promise = auth.createUserWithEmailAndPassword(email, pass);
        promise.catch(e=> alert(e.message));
        alert('Signed Up!');
      } else if ('false') {
        alert('Enter The College Email Id!');
      }
    };
    const Login = document.getElementById('Login');
    function signIn() {

      let email = document.getElementById('participantEmail').value;
      let pass = document.getElementById('password').value;
      const promise = auth.signInWithEmailAndPassword(email, pass);
      promise.catch(e=> alert(e.message));
      alert('Signed In!' + email);
    }

  </script>
  <link rel="stylesheet" href="/Registration/style.css" />

  <style>
    .btn_hide {
      display: none;
    }
  </style>
</head>
<body>
  <div class="container">
    <div class="navbar">
      <div class="menu">
        <h3 class="logo">SIGCE <span>Events</span></h3>
        <div class="hamburger-menu">
          <div class="bar"></div>
        </div>
      </div>
    </div>
    <div class="main-container">
      <div class="main">
        <header>
          <div class="overlay">
            <div class="inner">
              <!-- FORM -->
              <div id="" class="authForm">
                <form id="reg_form" class="formback">
                  <input type="text" name="" id="participantName" value="" placeholder="Full-Name" required="required" />
                  <input type="email" name="" id="participantEmail" value="" placeholder="College Email" required="required" />
                  <input type="text" name="" id="password" value="" placeholder="Password" required="required" />
                  <label for="year">Year :
                    <select name="year" id="year" required="required">
                      <option value="" selected="selected">Select</option>
                      <option value="FY">FIRST YEAR</option>
                      <option value="SY">SECOND YEAR</option>
                      <option value="TY">THIRD YEAR</option>
                    </select>
                  </label>

                  <label for="branch">Branch :
                    <select name="branch" id="branch" required="required">
                      <option value="" selected="selected">Select</option>
                      <option value="COMP-PLAIN">Computer Plain</option>
                      <option value="AIML">AI & ML</option>
                      <option value="IOT">IOT</option>
                      <option value="ELECTRICAL">Electrical</option>
                      <option value="MECHANICAL">Mechanical</option>
                    </select>
                  </label>
                  <input type="number" name="" id="participantRNo" value="" placeholder="Roll No." required="required" />
                  <div id="output-box"></div>

                  <button type="button" id="Login" onclick="signIn()" class="btnform">Login</button>
                  <button type="button" id="Logout" class="btn_hide btnform">Log out</button>
                  <button type="button" id="SignUp" class="btnform" onclick="registerAcc()">Sign Up</button>
                </form>
              </div>
            </div>
          </div>
        </header>
      </div>

      <div class="shadow one"></div>
      <div class="shadow two"></div>
    </div>

    <div class="links">
      <ul>
        <li>
          <a href="/" style="--i: 0.05s;">Home</a>
        </li>
        <li>
          <a href="/Event/" style="--i: 0.1s;">Events</a>
        </li>
        <li>
          <a href="/Co-ordinators/" style="--i: 0.15s;">Co-Ordinators</a>
        </li>
        <li>
          <a href="/Registration/" style="--i: 0.2s;">Registration</a>
        </li>
        <li>
          <a href="/Submissions/" style="--i: 0.25s;">Submission</a>
        </li>
        <li>
          <a href="/Credits/" style="--i: 0.3s;">Credits</a>
        </li>
      </ul>
    </div>
  </div>
</body>
</html>